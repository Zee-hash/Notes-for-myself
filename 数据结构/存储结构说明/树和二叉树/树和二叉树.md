# 树和二叉树  
---  
## 树的基本概念  
### 树的定义  
树是n(n>=0)个结点的有限集。当n=0时，称为空树。在任意一颗非空树中应满足：  
+ 有且仅有一个特定的称为根的结点。  
+ 当n>1时，其余结点可分为m(m>0)个互不相交的有限集T<sub>1</sub>,T<sub>2</sub>,···,T<sub>m</sub>，其中每个集合本身又是一棵树，并且称为根的子树。  

显然，树的定义是递归的，即在树的定义中又用到了其自身，树是一种递归的数据结构。树作为一种逻辑结构，同时也是一种分层结构，具有以下两个特点：  
+ 树的根结点没有前驱，除根结点外的所有结点有且只有一个前驱。  
+ 树中所有结点可以有零个或多个后继。  

树适合于表示具有层次结构的数据。树中的某个结点（除根结点外）最多只和上一层的一个结点（即其父结点）有直接关系，根结点没有没有直接上层结点，因此在n个结点的树中有n-1条边。而树中每个结点与其下一层的零个或多个结点（即其子女结点）有直接关系。  
### 基本术语  
+ 根结点到某一结点的唯一路径上的任意结点，称为该结点的祖先。路径上最接近该结点的结点称为其双亲。根结点是树中唯一没有双亲的结点。有相同双亲的结点称为兄弟。  
+ 树中一个结点的孩子个数称为该结点的度，树中结点的最大度数称为树的度。  
+ 度大于0的结点称为分支结点（又称非终端结点）；度为0（没有子女结点）的结点称为叶子结点（又称终端结点）。在分支结点中，每个结点的分支数就是该结点的度。  
+ 结点的深度、高度和层次  
  结点的层次从树根开始定义，根结点为第1层，它的子结点为第2层，以此类推。  
  - 结点的深度是从根结点开始自顶向下逐层累加的。  
  - 结点的高度是从叶结点开始自底向上逐层累加的。  
  - 树的高度（或深度）是树中结点的最大层数。  
+ 有序树和无序树  
  树中结点的各子树从左到右是有次序的，不能互换，称该树为有序树，否则称为无序树。  
+ 路径和路径长度  
  树中两个结点之间的路径是由这两个结点之间所经过的结点序列构成的，而路径长度是路径上所经过的边的个数。  
  **由于树中的的分支是单向的，即从双亲指向孩子，所以树中的路径是从上向下的，同一双亲的两个孩子之间不存在路径。**  
+ 森林  
  森林是m(m>=0)棵互不相交的树的集合。森林的概念与树的概念十分相近，因为只要把树的根结点删去就成了森林。反之，只要给m棵独立的树加上一个结点，并把这m棵树作为该结点的子树，则森林就变成了树。  

### 树的性质  
树具有如下最基本的性质：  
+ 树中的结点数 = 所有结点的度数 + 1。  
+ 度为m的树中第i层上至多有m<sup>i-1</sup>个结点(i>=1)。  
+ 高度为h的m叉树至多有(m<sup>h</sup>-1)(m-1)个结点。  
+ 具有n个结点的m叉树的最小高度为*⎡log<sub>m</sub>(n(m-1)+1)⎤*。  

---  
## 二叉树的概念  
### 二叉树的定义及其主要特性  
#### 二叉树的定义  
二叉树是另一种树形结构，其特点是每个结点至多只有两棵子树（即二叉树中不存在度大于2的结点），并且二叉树的子树有左右之分，其次序不能颠倒。  
与树类似，二叉树也以递归的形式定义。二叉树是n(n>=0)个结点的有限集合：  
+ 或者为空二叉树，即n=0。  
+ 或者由一个根结点和两个互不相交的被称为根的左子树和右子树组成。左子树和右子树又分别是一棵二叉树。  

二叉树是有序树，若将其左、右子树颠倒，则成为另一棵不同的二叉树。即使树中结点只有一棵子树，也要区分它是左子树还是右子树。  
二叉树和度为2的有序树的区别：  
+ 度为2的树至少有3个结点，而二叉树可以为空。  
+ 度为2的有序树的孩子的左右次序是相对于另一个孩子而言的，若某个结点只有一个孩子，则这个孩子就无须区分其左右次序，而二叉树无论其孩子数是否为2,均需确定其左右次序，即二叉树的结点次序不是相对于另一个结点而言，而是确定的。  

#### 几个特殊的二叉树  
+ 满二叉树  
  一棵高度为h，且含有2<sup>h-1</sup>个结点的二叉树成为满二叉树，即树中的每层都含有最多的结点。满二叉树的叶子结点都集中在二叉树的最下一层，并且除叶子结点之外每个结点度数均为2。  
  可以对满二叉树按层序编号：约定编号从根结点（根结点编号为1）起，自上而下，自左而右。这样，每个结点对应一个编号，**对于编号为i的结点，若有双亲，则其双亲为⎣i/2⎦，若有左孩子，则左孩子为2i；若有右孩子，则右孩子为2i+1。**  
+ 完全二叉树  
  高度为h，有n个结点的二叉树，当且仅当其每个结点都与高度为h的满二叉树中编号为1~n的结点一一对应时，称为完全二叉树。其特点如下：  
  - 若i<=⎣n/2⎦，则结点i为分支结点，否则为叶子结点。  
  - 叶子结点只可能在层次最大的两层上出现。对于最大层次中的叶子结点，都依次排列在该层最左边的位置上。  
  - 若有度为1的结点，则只可能有一个，且该结点只有左孩子而无右孩子。（重要特征）  
  - 按层序编号后，一旦出现某结点（编号为i）为叶子结点或只有左孩子，则编号大于i的结点均为叶子结点。  
  - 若n为奇数，则每个分支结点都有左孩子和右孩子；若n为偶数，则编号最大的分支结点（编号为n/2)只有左孩子，没有右孩子，其余分支结点左、右孩子都有。  
+ 二叉排序树  
  左子树上所有结点的关键字均小于根结点的关键字；右子树上的所有结点的关键字均大于根结点的关键字；左子树和右子树又各是一棵二叉排序树。  
+ 平衡二叉树  
  树上任一结点的左子树和右子树的深度之差不超过1。  

#### 二叉树的性质  
+ 非空二叉树上的叶子结点数等于度为2的结点数+1,即n<sub>0</sub> = n<sub>2</sub> + 1。  
+ 非空二叉树上第k层上至多有2<sup>k-1</sup>个结点（k>=1）。  
+ 高度为h的二叉树至多有2<sup>h</sup> - 1个结点（h>=1）。  
+ 对完全二叉树按从上到下、从左到右的顺序依次编号1,2,···,n，则有以下关系：  
  - 当i>1时，结点i的双亲的编号为⎣i/2⎦，即当i为偶数时，其双亲的编号为i/2，它是双亲的左孩子；当i为奇数时，其双亲的编号为(i-1)/2，它是双亲的右孩子。  
  - 当2i<n时，结点i的左孩子编号为2i,否则无左孩子。  
  - 当2i+1<n时，结点i的右孩子编号为2i+1，否则无右孩子。  
  - 结点i所在层次（深度）为⎣log<sub>2</sub>i⎦+1。  
+ 具有n个（n>0）结点的完全二叉树的高度为⎡log<sub>2</sub>(n+1)⎤或⎣log<sub>2</sub>n⎦+1。  

### 二叉树的存储结构  
#### 顺序存储结构  
> 二叉树的顺序存储结构是指用一组连续的存储单元依次自上而下、自左向右存储完全二叉树上的结点元素，即将完全二叉树上编号为i的结点元素存储在一维数组下标为i-1的分量中。  

依据二叉树的性质，完全二叉树和满二叉树采用顺序存储比较合适，树中结点的序号可以唯一地反映结点之间的逻辑关系，这样既能最大可能地节省存储空间，又能利用数组元素的下标值确定结点在二叉树中的位置，以及结点之间的关系。  
但对于一般的二叉树，为了让数组下表能够反映二叉树结点之间的逻辑关系，只能添加一些并不存在的空节点，让其每个结点与完全二叉树上的结点相对照，再存储到一维数组的相应分量中，然而，在最坏情况下，一个高度为h且只有h个结点的单支树却需要占据2<sup>h</sup>-1个存储单元。  
#### 链式存储结构  
由于顺序存储结构的空间利用率较低，因此二叉树一般采用链式存储结构，用链表结点来存储二叉树中的每个结点。在二叉树中，结点结构通常包含若干数据域和若干指针域，二叉链表至少包含3个域：数据域data，左指针域lchild，右指针域rchild。  
二叉树的链式存储结构描述如下：  
```C
typedef struct BiTNode
{
    ElemType data;// 数据域
    struct BiTNode *lchild, *rchild;// 左、右孩子指针
}BiTNode, *BiTree;
```
容易验证，在含有n个结点的二叉链表中，含有**n+1**个空链域。