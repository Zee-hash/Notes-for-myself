# 操作系统概念
## 什么是操作系统？
- 操作系统是指控制和管理整个计算机系统的硬件和软件资源，合理地组织、调度计算机的工作与资源的分配，进而为用户和其他软件提供方便接口与环境的程序合集。它是计算机系统中最基本的系统软件。  
## 操作系统的特征
1. 并发Concurrence  
并发是指在一个时间间隔内，有两个或多个事情发生。对于单处理机来说，在一段时间内，宏观上来看有许多程序在同时运行，但从微观上来看，在这一段时间内的任意一个时刻都只有一个程序在执行。它们通过分时来实现并发。
2. 共享Sharing  
资源共享，是指计算机中的资源可供内存中多个并发执行的程序使用。共享分为以下两种方式：  
  + 互斥共享方式  
  在一段时间内只允许一个进程访问的资源称为临界资源或独占资源，进程在对这类资源进行访问时，需要互斥访问。打印机、磁带机等设备，如果不互斥共享将产生不可预估的后果。
  + 同时访问方式  
  这类资源允许一段时间内有多个进程“同时”访问,可允许多个进程同时访问的典型设备是磁盘设备。  
- **并发**和**共享**是操作系统两个最基本的特征。两者之间互为条件：  
  + 资源共享以并发为条件，若系统不允许程序并发执行，那么也不用考虑资源共享问题。  
  + 若系统不能对资源共享实施有效管理，则必将影响程序的并发执行，甚至无法并发执行。  
3. 虚拟Virtual  
虚拟是指把一个物理上的实体变成若干个逻辑上的对应物。用于实现虚拟的技术，被称为虚拟技术。操作系统中利用了多种虚拟技术来实现虚拟处理器、虚拟内存和虚拟外部设备等。  
操作系统的虚拟技术可归纳为：时分复用技术（如虚拟处理器）、空分复用技术（如虚拟存储器）。  
4. 异步Asynchronism
多道程序环境允许多个程序并发执行，但由于资源有限，进程的执行并不是一贯到底的，而是走走停停的，它以不可预知的速度向前推进，这就是进程的异步性。  
异步性使得操作系统运行处在一种随机的环境下，可能导致进程产生与时间有关的错误。然而，只要运行环境相同，操作系统就须保证多次运行进程后能获得相同的结果。  
## 操作系统的目标和功能
1. 操作系统作为计算机系统的资源管理者
+ 处理机管理  
在多道程序环境下，处理机的分配和运行都以进程（或线程）为基本单位，因而对处理机的管理可归结为对进程的管理。并发是指在计算机内同时运行多个进程，因此进程何时创建、何时撤销、如何管理、如何避免冲突、合理共享就是进程管理最主要的任务。**进程管理最主要的功能包括进程控制、进程同步、进程通信、死锁处理、处理机调度等**  
+ 存储器管理  
存储器管理是为了给多道程序的运行提供良好的环境，方便用户使用及提供内存的利用率，主要包括**内存分配、地址映射、内存保护与共享和内存扩充等功能**  
+ 文件管理  
计算机中的信息都是以文件的形式存在的，操作系统中负责文件管理的部分称为*文件系统*。文件管理包括**文件存储空间的管理、目录管理及文件读写管理和保护等**  
+ 设备管理  
设备管理的主要任务是完成用户的I/O请求，方便用户使用各种设备，并提高设备的利用率，主要包括**缓冲管理、设备分配、设备处理和虚拟设备等**  
2. 操作系统作为用户与计算机硬件系统之间的接口  
操作系统提供的接口主要分为两类。一类是命令接口，用户利用这些操作命令来组织和控制作业的执行；另一类是程序接口，编程人员可以使用它们来请求操作系统服务。  
+ 命令接口  
  - 联机命令接口（交互式命令接口）：适用于实时或分时系统的接口。用户没输入一条命令，就将控制权转给操作系统的命令解释程序，然后命令解释程序解释并执行输入的命令，完成指定的功能。之后，控制权转回控制台或终端，此时用户又可输入下一条命令。
  - 脱机命令接口（批处理命令接口）：适用于批处理操作系统，它由一组作业控制命令（作业控制语句）组成。脱机用户不能直接干预作业的运行，而应事先用相应的作业控制命令写成一份作业操作说明书，连同作业一起提交给系统。系统调度该作业时，由系统的命令解释程序逐条解释执行作业说明书上的命令或作业控制语句，从而间接地控制作业的运行。  
+ 程序接口  
程序接口由一组系统调用命令（简称系统调用，也称**广义指令**）组成。用户通过在程序中使用这些命令调用命令来请求操作系统为其提供服务。用户在程序中可以直接使用这组系统调用命令向系统提出各种服务要求，如使用各种外部设备、进行有关磁盘文件的操作、申请分配和收回内存及其他各种控制要求。  
3. 操作系统用作扩充机器  
没有任何软件支持的计算机称作*裸机*，它金构成计算机系统的物质基础，而实际呈现在用户面前的计算机系统是经过若干层软件改造的计算机。裸机在最里层，其外面是操作系统。操作系统所提供的资源管理功能和方便用户的各种服务功能，将裸机改造成功能更强、使用更方便的机器。通常将覆盖了软件的机器成为*扩充机器*或*虚拟机*。
