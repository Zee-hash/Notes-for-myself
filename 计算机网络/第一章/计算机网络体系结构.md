# 计算机网络体系结构  
---  
## 计算机网络概述  
### 计算机网络的概念  
一般认为，计算机网络是一个将分散的、具有独立功能的计算机系统，通过通信设备和线路连接起来，由功能完善的软件实现资源共享和信息传递的系统。简而言之，计算机网络就是一些互联的、自治的计算机系统的集合。  
在计算机网络发展的不同阶段，人们对计算机王丽给出了不同的定义，这些定义反映了当时网络技术发展的水平。这些定义可分为以下三类。  
#### 广义观点  
这种观点认为，只要是能实现远程信息处理的系统或能进一步达到资源共享的系统，都是计算机网络。广义的观点定义了一个计算机通信网络，它在物理结构上具有计算机网络的雏形，但资源共享能力弱，是计算机网络发展的低级阶段。  
#### 资源共享观点  
这种观点认为，计算机网络是“以能够相互共享资源的方式互联起来的自治计算机系统的集合”。该定义包含三层含义：  
+ 目的：资源共享  
+ 组成单元：分布在不同地理位置的多台独立的“自治计算机”  
+ 网络中的计算机必须遵循的统一规则——网络协议  

该定义符合目前计算机网络的基本特征。  
#### 用户透明性观点  
这种观点认为，存在一个能为用户自动管理资源的网络操作系统，它能够调用用户所需要的资源，而整个网络就像一个大的计算机系统一样对用户是透明的。用户使用网络就像使用一台单一的超级计算机，无须了解网络的存在、资源的位置信息。用户透明性观点的定义描述了一个分布式系统，它是网络未来发展追求的目标。  

### 计算机网络的组成  
从不同的角度，可以讲计算机网络的组成分为如下几类。  
+ 从组成部分上来看，一个完整的计算机网络主要由硬件、软件、协议三大部分组成，缺一不可。硬件主要由主机（也称端系统）、系统链路（如双绞线）、交换设备（如路由器、交换机等）和通信处理机（如网卡）等组成。软件主要包括各种实现资源共享的软件和方便用户使用的各种工具软件（如网络操作系统、邮件收发程序、FTP程序、聊天软件等）。软件属于应用层。协议是计算机网络的核心，协议规定了网络传输数据所遵循的规范。  
+ 从工作方式上看，计算机网络可分为边缘部分和核心部分。边缘部分有所有连接的因特网上、供用户直接使用的主机组成，用来进行通信（如传输数据、音频或视频）和资源共享；核心部分由大量的网络和连接这些网络的路由器组成，它为边缘部分提供连通性和交换服务。  
+ 从功能组成上看，计算机网络由通信子网和资源子网组成。通信子网由各种传输介质、通信设备和相应的网络协议组成，它使网络具有数据传输、交换、控制和存储的能力，实现联网计算机之间的数据通信。资源子网是实现资源共享功能的设备及其软件的集合，向网络用户提供共享计算机上的硬件资源、软件资源和数据资源的服务。  

### 计算机网络的功能  
计算机网络的功能很多，现今的很多应用都和网络有关。主要有以下五大功能。  
#### 数据通信  
它是计算机网络最基本和最重要的功能，用来实现联网计算机之间的各种信息的传输，并将分散在不同地理位置的计算机联系起来，进行统一的调配、控制和管理。比如，文件传输、电子邮件等应用，离开了计算机网络将无法实现。  
#### 资源共享  
资源共享可以是软件共享、数据共享，也可以是硬件共享。使计算机网络中的资源互通有无、分工协作。从而极大地提高硬件资源、软件资源和数据资源的利用率。  
#### 分布式处理  
当计算机网络中的某个计算机系统负荷过重时，可以将其处理的某个复杂任务分配给网络中的其他计算机系统，从而利用空闲计算机资源以提高整个系统的利用率。  
#### 提高可靠性  
计算机网络中的各台计算机可以通过网络互为替换机。  
#### 负载均衡  
将工作任务就均衡地分配给计算机网络中的各台计算机。  

### 计算机网络的分类  
#### 按分布范围分类  
+ 广域网WAN。广域网的任务是提供长距离通信，运送主机所发送的数据，其覆盖范围通常为几十千米到几千千米的区域，因而有时也称远程网。广域网是因特网的核心部分。连接广域网的各节点交换机的链路一般都是高速链路，具有较大的通信容量。  
+ 城域网MAN。城域网的覆盖范围可以跨越几个街区甚至整个城市，覆盖范围约为5~50km。城域网大多采用以太网技术，因此有时也常并入局域网的范围进行讨论。  
+ 局域网LAN。局域网一般用微机或工作站通过高速链路相连，覆盖范围较小，通常为几十米到几千米的区域。局域网在计算机配置的数量上没有太多的限制，少的可以只有两台，多的可达几百台。传统上，局域网使用广播技术，而广域网使用交换技术。  
+ 个人区域网PAN。个人区域网是指在个人工作的地方将消费电子设备（如平板电脑、智能手机等）用无线技术连接起来的网络，也常称为无线个人区域网（WPAN），器覆盖的区域直径约为10m。  

#### 按传输技术分类  
+ 广播式网络。所有联网计算机都共享一个公共通信信道。当一台计算机利用共享通信信道发送报文分组时，所以其他的计算机都会”收听“到这个分组。接收到该分组的计算机将通过检查目的地址来决定是否接收该分组。  
  局域网基本上都采用广播式通信技术，广域网中的无线、卫星通信网络也采用广播式通信技术。  
+ 点对点网络。每条物理线路连接一对计算机。如果通信的两台主机之间没有直接连接的线路，那么它们之间的分组传输就要通过中间结点的接收、存储和转发，直至目的结点。  

是否采用分组存储转发与路由选择机制是点对点网络和广播式网络的重要区别，广域网基本都属于点对点网络。  

#### 按拓扑结构分类  
网络拓扑结构是指由网中结点（路由器、主机等）和通信线路（网线）之间的几何关系（如总线形、环形）表示的网络结构，主要是指通信子网的拓扑结构。  
按网络的拓扑结构，主要分为总线形、星形、环形和网状形网络等。星形、总线形和环形多用于局域网，网状形网络多用于广域网。  
+ 总线形网络。用单根传输线把计算机连接起来。总线形网络的优点是建网容易、增减结点方便、节省线路。缺点是重负载时通信效率不高、总线任意一处对故障敏感。  
+ 星形网络。每个终端或计算机都有单独的线路和中央设备相连。中央设备早期是计算机，现在一般是交换机或路由器。星形网络便于集中控制和管理，因为端用户之间的通信必须经过中央设备。缺点是成本高、中心结点对故障敏感。  
+ 环形网络。所有计算机接口设备连接成一个环。环形网络最典型的例子就是令牌环局域网。环可以是单环，也可以是双环，环中信号是单向传输的。  
+ 网状形网络。一般情况下，每个结点至少有两条路径和其他结点相连，多用在广域网中。有规则型和非规则型两种。其优点是可靠性高，缺点是控制复杂、线路成本高。  

以上4种基本的网络拓扑结构可以互连为更复杂的网络。  

#### 按使用者分类  
+ 公用网。指电信公司出资建造的大型网络。”公用“的意思是指所有愿意按电信公司的规定交纳费用的人都可以使用这种网络，因此也称公众网。  
+ 专用网。指某个部门为满足本单位特殊业务的需要而建造的网络。这种网络不向本单位以外的人提供服务。例如铁路、电力、军队等部分使用的专用网。  

#### 按交换技术分类  
交换技术是指各台主机之间、各通信设备之间或主机与通信设备之间为交换信息所采用的数据格式和交换装置的方式。按交换技术可将网络分为如下几种。  
+ 电路交换网络。在源结点和目的结点之间建立一条专用的通路用于传送数据，包括建立连接、传输数据和断开连接三个阶段。最典型的电路交换网是传统电话网络。  
  该网络的主要特点是整个报文的比特流连续地从源点直达终点，好像是在一条管道中传送。优点是数据直接传送、时延小。缺点是线路利用率低、不能充分利用线路容量、不便于进行差错控制。  
+ 报文交换网络。用户数据加上源地址、目的地址、校验码等辅助信息，然后封装成报文。整个报文传送到相邻结点，**全部存储后**，再转发给下一个结点，重复这一过程直到到达目的结点。每个报文可以单独选择到达目的结点的路径。  
  报文交换网络也称存储-转发网络，主要特点是整个报文先传送到相邻结点，全部存储后查找转发表，转发到下一个结点。优点是可以较为充分地利用线路容量，可以实现不同链路之间不同数据率的转换，可以实现格式转换，可以实现一对多、多对一的访问，可以实现差错控制。缺点是增大了资源开销（如辅助信息导致处理时间和存储资源的开销），增加了缓冲时延，需要额外的控制机制来保证多个报文的顺序不乱序，缓冲区难以管理（因为报文的大小不确定，接收方在接收到报文之前不能预知报文的大小）。  
+ 分组交换网络，也称包交换网络。其原理是将数据分成较短的固定长度的数据块，在每个数据块中加上目的地址、源地址等辅助信息组成分组（包），以存储-转发方式传输。  
  其主要特点是单个分组（它只是整个报文的一部分）传送到相邻结点，存储后查找转发表，转发到下一个结点。除具备报文交换网络的优点外，分组交换网络还具有自身的优点；缓冲易于管理；包的平均时延更小，网络占用的平均缓冲区更少；更易于标准化；更适合应用。现在的主流网络基本上都可视为分组交换网络。  

#### 按传输介质分类  
传输介质可分为有线和无线两大类，因此网络可以分为有线网络和无线网络。有线网络又分为双绞线网络、同轴电缆网络等。无线网络又可分为蓝牙、微波、无线电等类型。  

### 计算机网络的标准化工作及相关组织  
计算机网络的标准化对计算机网络的发展和推广起到了极为重要的作用。  
因特网的所有标准都以RFC(Request For Comments)的形式在因特网上发布，但并非每个RFC都是因特网标准，RFC要上升为因特网的正式标准需经过以下4个阶段。  
+ 因特网草案Internet Draft。这个阶段还不是RFC文档。  
+ 建议标准Proposed Standard。从这个阶段开始就成为RFC文档。  
+ 草案标准Draft Standard。  
+ 因特网标准Internet Standard。  

在国际上，负责制定、实施相关网络标准的标准化组织众多，主要有以下几个：  
+ 国际标准化组织ISO。制定的主要网络标准或规范有OSI参考模型、HDLC等。  
+ 国际电信联盟ITU。其前身为国际电话电报咨询委员会CCITT，其下属机构ITU-T制订了大量有关远程通信的标准。  
+ 国际电子电气工程师协会IEEE。世界上最大的专业技术团体，由计算机和工程学专业人士组成。IEEE在通信领域最著名的研究成果是802标准。  

### 计算机网络的性能指标  
性能指标从不同方面度量计算机网络的性能。常用的性能指标如下：  
+ 带宽Bandwidth。本来表示通信线路允许通过的频带范围，单位是赫兹。而在计算机网络中，带宽表示网络的通信线路所能传送数据的能力，是数字信道所能传送的”最高数据率“的同义词，单位是比特/秒。  
+ 时延Delay。指数据（一个报文或分组）从网络（或链路）的一端传送到另一端所需要的总时间，它由四部分构成：发送时延、传播时延、处理时延和排队时延。  
  - 发送时延。结点将分组的所有比特推向（传输）链路所需的时间，即从发送分组的第一个比特算起，到该分组的最后一个比特发送完毕所需的时间，因此也称传输时延。计算公式为  `发送时延=分组长度/信道宽度`  
  - 传播时延。电磁波在信道中传播一定距离需要花费的时间，即一个比特从链路的一端传播到另一端所需的时间。计算公式为  `传播时延=信道长度/电磁波在信道上的传播速率`  
  - 处理时延。数据在交换结点为存储转发而进行的一些必要的处理所花费的时间。例如，分析分组的首部、从分组中提取数据部分、进行差错检验或查找适当的路由等。  
  - 排队时延。分组在进入路由器后要先在输入队列中排队等待处理。路由器确定转发端口后，还要在输出队列中排队等待转发，这就产生了排队时延。  
因此，数据在网络中经历的总时延就是以上4部分时延之和：  
`总时延=发送时延+传播时延+处理时延+排队时延`  
+ 时延带宽积。指发送端发送的第一个比特即将到达终点时，发送端已经发出了多少个比特，因此又称以比特为单位的链路长度，即`时延带宽积=传播时延×信道带宽`  
+ 往返时延Round-Trip Time(RTT)。指从发送端发送数据开始，到发送端收到来自接收端的确认（接收端收到数据后立即发送确认），总共经历的时延。在互联网中，往返时延还包括各中间结点的处理时延，排队时延及转发数据时的发送时延。  
+ 吞吐量Throughput。置单位时间内通过某个网络（或信道、接口）的数据量。吞吐量受网络带宽和网络额定速率的限制。  
+ 速率Speed。网络中的速率是指连接到计算机网络上的主机在数字信道上传送数据的速率，也称数据率或比特率，单位为b/s（比特/秒）。数据率较高时，可用kb/s、Mb/s或Gb/s表示。在计算机网络中，通常把最高数据率称为带宽。  
+ 信道利用率。指出某一信道有百分之多少的时间是有数据通过的，即`信道利用率=有数据通过时间/（有+无）数据通过时间`  